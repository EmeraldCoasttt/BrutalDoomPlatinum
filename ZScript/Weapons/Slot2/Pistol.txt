class BDPPistol : BDPWeaponBase replaces Pistol
{
	bool silenced;
	
	action void A_SetSilencedSprites(string normalsprite, string silencedsprite)
	{
		if(invoker.silenced)
			A_SetSprites(silencedsprite);
		else
			A_SetSprites(normalsprite);
	}
	
	Default
	{
		Weapon.AmmoGive 15;
		Weapon.AmmoType "BDPClip1";
		BDPWeaponBase.MagCapacity 15;
		Weapon.SlotNumber 2;
		Weapon.SlotPriority 1;
		weapon.selectionorder 3800;
		Obituary "%o was shot down by %k's pistol.";
		Inventory.PickupSound "CLIPIN";
		Inventory.Pickupmessage "You got the Pistol! (Slot 2)";
		Tag "$BDPPISTOL";
		BDPWeaponBase.Handedness 1;
		BDPWeaponBase.VoiceActed 0;
		Inventory.AltHUDIcon "PISTG0";
	}
	States
	{
	CacheSprites:
		S1LK ABCDE 0;
		SILI ABCDEFGH 0;
		2ILE ABCDEFGH 0;
		SILR ABCDEFGHIJKLMNOPQRSTUVWXYZ 0;
		2ILR ABCDEFGHIJKLM 0;
		PIS2 GH 0;
		PISC ABCDEFGHIJKLMNOPQRSTUVWXYZ 1;
		Stop;
	Grenade: //30
		TNT1 A 0 A_EndAim();
		TNT1 A 0 A_SetCrosshairDX("PISTRet", 1000);
		PISS ABC 1 A_SetSilencedSprites("PISS","PISC");
		TNT1 A 24;
		PISS CBA 1 A_SetSilencedSprites("PISS","PISC");
		Goto Ready;
	Kick: //18
		TNT1 A 0 A_SetCrosshairDX("PISTRet", 1000);
		PISK ABCD 1 A_SetSilencedSprites("PISK","S1LK");
		PISK E 10 A_SetSilencedSprites("PISK","S1LK");
		PISK DCBA 1 A_SetSilencedSprites("PISK","S1LK");
		Goto Ready;
	SlideKick: //25
		TNT1 A 0 A_SetCrosshairDX("PISTRet", 1000);
		PISK ABCD 1 A_SetSilencedSprites("PISK","S1LK");
		PISK E 17 A_SetSilencedSprites("PISK","S1LK");
		PISK DCBA 1 A_SetSilencedSprites("PISK","S1LK");
		Goto Ready;
	Taunt: //30
		TNT1 A 0 A_EndAim();
		TNT1 A 0 A_SetCrosshairDX("PISTRet", 1000);
		PISK ABCD 1 A_SetSilencedSprites("PISK","S1LK");
		PISK E 22 A_SetSilencedSprites("PISK","S1LK");
		PISK DCBA 1 A_SetSilencedSprites("PISK","S1LK");
		Goto Ready;
	Sprint:
		TNT1 A 0 A_SetCrosshairDX("PISTRet", 1000);
		PISK ABCD 1 {A_SetSilencedSprites("PISK","S1LK"); A_SetSprites("TNT1A0",1);}
	SprintLoop:
		PISK E 1 {A_SetSilencedSprites("PISK","S1LK"); A_SetSprites("TNT1A0",1);}
		Loop;
	SprintEnd:
		PISK DCBA 1 {A_SetSilencedSprites("PISK","S1LK"); A_SetSprites("TNT1A0",1);}
		Stop;
	LetsGetStarted:
		TNT1 A 0 A_TakeInventory("NeverSelectedShotgun",1);
		TNT1 A 0 A_SetCrosshairDX("Null");
		PONG A 20 A_WeaponReadyDX(kicksprint:false);
		PUNS BDEFF 1 A_WeaponReadyDX(kicksprint:false);
		TNT1 A 0 A_StartSound("Knuckled");
		PUNS GG 1 A_WeaponReadyDX(kicksprint:false);
		PUNS G 1 offset(0,31) A_WeaponReadyDX(kicksprint:false);
		PUNS G 1 offset(0,32) A_WeaponReadyDX(kicksprint:false);
		PUNS G 1 offset(0,31) A_WeaponReadyDX(kicksprint:false);
		PUNS GG 1 offset(0,32) A_WeaponReadyDX(kicksprint:false);
		PUNS FFE 3 A_WeaponReadyDX(kicksprint:false);
		PUNS KLL 1 A_WeaponReadyDX(kicksprint:false);
		TNT1 A 0 A_StartSound("Knuckled");
		PUNS MM 1 A_WeaponReadyDX(kicksprint:false);
		PUNS M 1 offset(0,31) A_WeaponReadyDX(kicksprint:false);
		PUNS M 1 offset(0,32) A_WeaponReadyDX(kicksprint:false);
		PUNS M 1 offset(0,31) A_WeaponReadyDX(kicksprint:false);
		PUNS MM 1 offset(0,32) A_WeaponReadyDX(kicksprint:false);
		PUNS LLK 3 A_WeaponReadyDX(kicksprint:false);
		PUNS DB 1 A_WeaponReadyDX(kicksprint:false);
		PONG A 1 A_WeaponReadyDX(kicksprint:false);
		FISA C 1 A_WeaponReadyDX(kicksprint:false);
		TNT1 A 3 A_WeaponReadyDX(kicksprint:false);
		PISR ABCDEFGH 1 A_WeaponReadyDX(kicksprint:false);
		TNT1 A 0 A_StartSound("prel");
		PISR OOOOOPQRSTUVWXYZ 1 A_WeaponReadyDX(kicksprint:false);
		PI2R ABCDEFGHIJKLM 1 A_WeaponReadyDX(kicksprint:false);
		TNT1 A 0 A_Jump(250,2);
		TNT1 A 0 A_StartSound("letsago");
		PISS CBA 1 A_WeaponReadyDX(kicksprint:false);
		TNT1 A 0 A_SetCrosshairDX("PISTRet", 1000);
		Goto Ready;
	Ready:
		PIS2 F 1 {A_SetSilencedSprites("PIS2","2ILE"); return A_WeaponReadyDX(WRF_ALLOWRELOAD);}
		Loop;
	Fidget: //Yay, it's back!
		TNT1 A 0 A_StartSound("PISTFOL4");
		PISS AB 1 {A_SetSilencedSprites("PISS","PISC"); return A_WeaponReadyDX(0,false);}
		PI2R MLKJ 1 {A_SetSilencedSprites("PI2R","2ILR"); return A_WeaponReadyDX(0,false);}
		PI2R HI 1 {A_SetSilencedSprites("PI2R","2ILR"); return A_WeaponReadyDX(0,false);}
	SpamFidget:
		PTFP ABCDDDE 1 {A_SetSilencedSprites("PTFP","SILI"); return A_WeaponReadyDX(0,false);}
		TNT1 A 0 A_StartSound ("foley/PistolSlideBack", 1);
		PTFP FGG 2 {A_SetSilencedSprites("PTFP","SILI"); return A_WeaponReadyDX(0,false);}
	FidgetLoop:
		PTFP G 2 {A_SetSilencedSprites("PTFP","SILI"); return A_WeaponReadyDX(WRF_ALLOWRELOAD,false,fidgetstate:"FidgetLoop");}
		PTFP H 1 {A_SetSilencedSprites("PTFP","SILI"); return A_WeaponReadyDX(0,false);}
		PI2R E 2 {A_SetSilencedSprites("PI2R","2ILR"); return A_WeaponReadyDX(0,false);}
		TNT1 A 0 A_StartSound("foley/PistolSlideForward", 1);
		PI2R F 1 {A_SetSilencedSprites("PI2R","2ILR"); A_WeaponReadyDX(WRF_ALLOWRELOAD,false,fidgetstate:"SpamFidget");}
		PI2R G 1 {A_SetSilencedSprites("PI2R","2ILR"); A_WeaponReadyDX(WRF_ALLOWRELOAD,false,fidgetstate:"SpamFidget");}
		PI2R H 1 {A_SetSilencedSprites("PI2R","2ILR"); A_WeaponReadyDX(WRF_ALLOWRELOAD,false,fidgetstate:"SpamFidget");}
		PI2R I 1 {A_SetSilencedSprites("PI2R","2ILR"); A_WeaponReadyDX(WRF_ALLOWRELOAD,false,fidgetstate:"SpamFidget");}
		TNT1 A 0 A_StartSound("PISTFOL5", 3);
		PI2R JKLM 1 {A_SetSilencedSprites("PI2R","2ILR"); return A_WeaponReadyDX(0,false);}
		PISS BA 1 {A_SetSilencedSprites("PISS","PISC"); return A_WeaponReadyDX(0,false);}
		Goto Ready;
	Deselect:
		TNT1 A 0 A_EndAim();
		PISS ABC 1 A_SetSilencedSprites("PISS","PISC");
		TNT1 A 1;
		TNT1 A 0 A_Lower();
		Wait;
	Select:
		TNT1 A 0 A_JumpIfInventory("NeverSelectedShotgun",1,"LetsGetStarted");
		TNT1 A 1 {A_SetCrosshairDX("PISTRet", 1000); A_GunslingerMag(1);}
		TNT1 A 0 A_StartSound("PSRLIN");
		PISS CBA 1 A_SetSilencedSprites("PISS","PISC");
		Goto Ready;
	MuzzleFlash:
		TNT1 A 0 A_Jump(128,"MuzzleFlash2","MuzzleFlash3");
		PISM AD 1 Bright;
		Stop;
	MuzzleFlash2:
		PISM BD 1 Bright;
		Stop;
	MuzzleFlash2:
		PISM CD 1 Bright;
		Stop;
	Fire:
		TNT1 A 0 A_SetCrosshairDX("PISTRet", 1000);
		TNT1 A 0 A_CheckIfMag();
		PIS2 A 1 Bright
		{
			A_SetSilencedSprites("PIS2","2ILE");
			if(invoker.silenced)
			{
				A_FireBullets (0.5, 0.5, -1, 12, "pistolpuff", FBF_NORANDOM,0,"decorativetracer",-4);
				A_StartSound("PISTSLNT",1);
			}
			else
			{
				A_FireBullets (0.5, 0.5, -1, 20, "Pistolpuff", FBF_NORANDOM,0,"decorativetracer",-4);
				A_StartSound("DSPISTOL",1);
				A_StartSound("FARPST",6);
				A_AlertMonstersDX();
				A_GunLight();
				A_FlashOverlay();
			}
			A_SemiFlag();
			A_WeaponRecoil(1.6,0,2,0.2);
			A_QuadSound();
			A_MagClick();
			A_TakeMag();
		}
		PIS2 B 1
		{
			A_SetSilencedSprites("PIS2", "2ILE");
			A_WeaponOffset(random(-1,1),32+random(0,1));
			A_ZoomFactor(1.0);
			A_FireProjectileDX("PistolCasing",random(-85,-95),random(-40,-60),0,30,-10);
		}
		PIS2 CD 1 A_SetSilencedSprites("PIS2", "2ILE");
		TNT1 A 0 A_WeaponOffset(0,32);
		TNT1 A 0 A_SemiRefire();
		Goto Ready;
	MuzzleFlashAim:
		PISM E 1 Bright;
		Stop;
	FireAim:
		TNT1 A 0 A_CheckIfMag();
		PISZ B 1 Bright
		{
			A_SetSilencedSprites("PISZ","SILE");
			if(invoker.silenced)
			{
				A_FireBullets(0.2, 0.2, -1, 12, "pistolpuff", FBF_NORANDOM,0,"decorativetracer",-4);
				A_StartSound("PISTSLNT", 1);
				A_SetFrame(7);
			}
			else
			{
				A_FireBullets (0.2, 0.2, -1, 20, "pistolpuff", FBF_NORANDOM,0,"decorativetracer",-4);
				A_FlashOverlay(state:"MuzzleFlashAim");
				A_StartSound("DSPISTOL", 1);
				A_StartSound("FARPST", 6);
				A_AlertMonstersDX();
				A_GunLight();
			}
			A_SemiFlag();
			A_WeaponRecoil(0.8,0,2,0.2);
			A_ZoomFactor(1.49);
			A_QuadSound();
			A_MagClick();
			A_TakeMag();
		}
		PISZ C 1 {A_ZoomFactor(1.5); A_FireProjectileDX("PistolCasing",random(-85,-95),random(-40,-60),0,30,-5);}
		PISZ DA 1;
		TNT1 A 0 A_SemiRefire("FireAim");
		Goto Aim;
	 DoReload:
		TNT1 A 0 A_EndAim();
		TNT1 A 0 A_StartSound("reload");
		TNT1 A 0 A_StartSound("PISTFOL4",10);
		PISS ABC 1 A_SetSilencedSprites("PISS","PISC");
		PISR ABCDEFGH 1 A_SetSilencedSprites("PISR","SILR");
		TNT1 A 0 A_StartSound("prel");
		TNT1 A 0 {if(invoker.mag < 2) A_FireProjectileDX("EmptyPistolMag",random(75,85),random(65,75),2,20,-24);}
		TNT1 A 0 A_DiscardMag;
		PISR IJKLMNOPQRSTUVWXYZ 1 A_SetSilencedSprites("PISR","SILR");
		PI2R ABCDEFGHI 1 A_SetSilencedSprites("PI2R","2ILR");
		TNT1 A 0 A_StartSound("PISTFOL5",10);
		TNT1 A 0 A_ReloadMag(1);
		PI2R JKLM 1 A_SetSilencedSprites("PI2R","2ILR");
		PISS BA 1 A_SetSilencedSprites("PISS","PISC");
		Goto Ready;
	Spawn:
		TNT1 A 0 NoDelay A_JumpIf(invoker.silenced,"SpawnSilenced");
		TNT1 A 0 A_jump(256,"spawn1","spawn2","spawn3");
		LOOP;
	Spawn1:
		PIST V 1 A_jumpifinventory("AmmoTaken",1,"SpawnNoAmmo");
		LOOP;
	Spawn2:
		PIST W 1 A_jumpifinventory("AmmoTaken",1,"SpawnNoAmmo");
		LOOP;
	Spawn3:
		PIST X 1 A_jumpifinventory("AmmoTaken",1,"SpawnNoAmmo");
		LOOP;
	SpawnSilenced:
		SILE G -1;
		Stop;
	SpawnNoAmmo:
		PIST G -1;
		Stop;
	AltFire:
		TNT1 A 0 A_SetCrosshairDX("PISTRet", 1000);
		PISZ E 1 A_StartAim(1.5);
		PISZ F 1;
	Aim:
		PISZ A 1 A_WeaponReadyDX(WRF_ALLOWRELOAD);
		Loop;
	AimEnd:
		PISZ F 1 A_EndAim();
		PISZ E 1;
		Goto Ready;
	SpecialAction:
		TNT1 A 0 A_EndAim();
		TNT1 A 0 A_takeinventory("StartDualWield",1);
		TNT1 A 0 A_JumpIf(invoker.silenced,"Unsilence");
		TNT1 A 0 {invoker.silenced = true;}
		S1LE ABCDEFGHIJJJK 1;
		TNT1 A 0 A_StartSound("SILEIN");
		TNT1 A 0 ChangeWeaponIcon("SILEG0");
		S1LE LMMNOOOPQRSTUV 1;
		Goto Ready;
	Unsilence:
		TNT1 A 0 {invoker.silenced = false;}
		S1LE VUTSRQPOOONM 1;
		TNT1 A 0 A_StartSound("SILEOUT");
		TNT1 A 0 ChangeWeaponIcon("PISTG0");
		S1LE MLKJJJIHGFEDCBA 1;
		Goto Ready;
	/*AltFire:
		TNT1 A 0 A_JumpIf(GetCvar("bd_UsePistolADS")==1, "AltFireADS")
		TNT1 A 0 A_JumpIf(invoker.silenced,"AltFireADS")
		TNT1 A 0 A_StartSound("DryFire")
		PIST F 0 A_Takeinventory("Zoomed",1)
		PIST F 0 A_ZoomFactor(1.0)
		TNT1 A 0 A_JumpIFInventory("PistolBurstFire", 1, "StopAlt")
		TNT1 A 0 A_GiveInventory("PistolBurstFire", 1)
		TNT1 A 0 A_Print("Burst fire", 1)
		PISC A 0 A_JumpIf(invoker.silenced,5)
		PIST L 1 Offset(0,33)
		PIST M 1 Offset(0,34)
		PIS2 F 1 Offset(0,33)
		Goto Ready3
		2ILE G 1 Offset(0,33)
		2ILE H 1 Offset(0,34)
		2ILE F 1 Offset(0,33)
		SILE F 0 Offset(0,32)
		TNT1 A 0 A_GiveInventory("BurstANDsilencer", 1)
		Goto Ready3
		PISZ E 1 {A_StartSound("ADSIN"); A_ZoomFactor(1.5);}
		PISZ F 1
		TNT1 A 0 A_StartAim
		Goto Ready
	StopAlt:
		TNT1 A 0 A_StartSound("DryFire")
		TNT1 A 0 A_TakeInventory("PistolBurstFire", 1)
		TNT1 A 0 A_TakeInventory("BurstANDsilencer",1)
		TNT1 A 0 A_Print("Semi-auto", 1)
		PISC A 0 A_JumpIf(invoker.silenced,5)
		PIS2 F 1 Offset(0,33)
		PIST M 1 Offset(0,34)
		PIST L 1 Offset(0,33)
		Goto Ready3
		2ILE F 1 Offset(0,33)
		2ILE H 1 Offset(0,34)
		2ILE G 1 Offset(0,33)
		SILE F 0 Offset(0,32)
		TNT1 A 0 A_TakeInventory("BurstANDsilencer", 1)
		Goto Ready3
	SpecialAction:
		TNT1 A 0
		PIST F 0 A_Takeinventory("StartDualWield",1)
		//TNT1 A 0 A_JumpIf(invoker.silenced,"nodualsilencer")
		PIST F 0 A_JumpIfInventory("BrutalPistol", 2, "GetDual")
		PIST F 0 A_Print("You must have two pistols to dual wield!",2)
		Goto Ready
		
	 GetDual:	
		PIST F 0
		PIST F 0 A_Takeinventory("Zoomed",1)
		PIST F 0 A_Takeinventory("ADSmode",1)
		PIST F 0 A_TakeInventory("TossGrenade", 1)
		PIST F 0 A_TakeInventory("Kicking",1)
		PIST F 0 A_TakeInventory("Taunting",1)
		PIST F 0 A_TakeInventory("Reloading",1)
		PIST F 0 A_TakeInventory("Unloading",1)
		PIST F 0 A_TakeInventory("Salute1", 1)
		PIST F 0 A_TakeInventory("Salute2", 1)
		TNT1 A 0 A_GiveInventory("SwitchingDualModes", 1)
		TNT1 A 0 A_GiveInventory("RememberDualPistol", 1)
		TNT1 A 0 A_GiveInventory("DualPistols", 1)
		PIST F 0 A_ZoomFactor(1.0)
		PIST F 0 A_SelectWEapon("DualPistols")
		Goto Ready
	Fire2:
		TNT1 A 0
		PIST F 0 A_StartSound("FARSHT", 6)
		PIST F 0 A_StartSound("DSPISTOL", 1)
		PIST F 0 A_ZoomFactor(0.98)
		TNT1 A 0 A_GunLight
		"----" A 0 { If(GetCVAR("BD_MagGoClicky")==1) { if(CountInv("BDPistolAmmo")<=6) { A_StartSound("MagClick", 7); }}}			
		PIST H 0 A_Jump(128,3)
		PIST G 0 A_Jump(128,2)
		PIST A 0
		RIFF "#" 0
		PIS2 "#" 1 BRIGHT A_FireBullets (0.5, 0.5, -1, 20, "pistolpuff", FBF_NORANDOM,8192,"decorativetracer",-4)
		"####" A 0 A_QuadSound
		NULL A 0 A_WeaponOffset(random(-1,1),32+random(0,1) )
		PIST F 0 A_ZoomFactor(1.0)
	   // RIFF A 0 A_FireProjectile("DecorativeTracer", random(-1,1), 0, 0, 0)
		PIST F 0 A_TakeAmmo("BDPistolAmmo",1)
		PIST F 0 A_TakeAmmo("BDDualPistolAmmo",1)
		PIS2 B 1
		PIST F 0 A_CheckIfAmmo("BDPistolAmmo",1,"NoAmmo")
		PIST B 0
		PIS2 C 1		
		PIST F 0 A_FireProjectile("PistolCaseSpawn",5,0,0,-9)
		PIST F 0 A_StartSound("FARSHT", 6)
		PIST F 0 A_StartSound("DSPISTOL", 1)
		PIST F 0 A_ZoomFactor(0.98)
		TNT1 A 0 A_GunLight
		"----" A 0 { If(GetCVAR("BD_MagGoClicky")==1) { if(CountInv("BDPistolAmmo")<=6) { A_StartSound("MagClick", 7); }}}
		PIST H 0 A_Jump(128,3)
		PIST G 0 A_Jump(128,2)
		PIST A 0
		RIFF "#" 0
		PIS2 "#" 1 BRIGHT A_FireBullets (0.5, 0.5, -1, 20, "pistolpuff", FBF_NORANDOM,8192,"decorativetracer",-4)
		NULL A 0 A_WeaponOffset(random(-1,1),32+random(0,1) )		
		PIST F 0 A_ZoomFactor(1.0)
	 //   RIFF A 0 A_FireProjectile("DecorativeTracer", random(-1,1), 0, 0, 0)
		PIST F 0 A_TakeAmmo("BDPistolAmmo",1)
		PIST F 0 A_TakeAmmo("BDDualPistolAmmo",1)
		PIS2 B 1
		PIST F 0 A_CheckIfAmmo("BDPistolAmmo",1,"NoAmmo")
		PIST B 0
		PIS2 C 1
		//TNT1 A 0 A_SetPitch(pitch+1, SPF_INTERPOLATE)
		TNT1 A 0 A_SetAngle(angle-frandom(-0.8,0.8), SPF_INTERPOLATE)
		PIST F 0 A_FireProjectile("PistolCaseSpawn",5,0,0,-9)
		PIST F 0 A_StartSound("FARSHT", 6)
		PIST F 0 A_StartSound("DSPISTOL", 1)
		PIST F 0 A_ZoomFactor(0.98)
		TNT1 A 0 A_GunLight
		"----" A 0 { If(GetCVAR("BD_MagGoClicky")==1) { if(CountInv("BDPistolAmmo")<=6) { A_StartSound("MagClick", 7); }}}
		PIST H 0 A_Jump(128,3)
		PIST G 0 A_Jump(128,2)
		PIST A 0
		RIFF "#" 0
		PIS2 "#" 1 BRIGHT A_FireBullets (0.5, 0.5, -1, 20, "pistolpuff", FBF_NORANDOM,8192,"decorativetracer",-4)
		NULL A 0 A_WeaponOffset(random(-1,1),32+random(0,1)	)		
		PIST F 0 A_ZoomFactor(1.0)
		//RIFF A 0 A_FireProjectile("DecorativeTracer", random(-1,1), 0, 0, 0)
		PIST F 0 A_TakeAmmo("BDPistolAmmo",1)
		PIST F 0 A_TakeAmmo("BDDualPistolAmmo",1)
		//TNT1 A 0 A_SetPitch(pitch+1, SPF_INTERPOLATE)
		TNT1 A 0 A_SetAngle(angle-frandom(-0.8,0.8), SPF_INTERPOLATE)
		PIST F 0 A_CheckIfAmmo("BDPistolAmmo",1,"NoAmmo")
		PIST B 0
		PIS2 B 1
		PIST F 0 A_FireProjectile("PistolCaseSpawn",5,0,0,-9)
		PIS2 C 1 
		PIS2 DE 1
		NULL A 0 A_WeaponOffset(0,32)
		PIST F 0 A_JumpIfInventory("Reloading",1,"Reload")
		PIST F 0 A_JumpIfInventory("TossGrenade",1,"TossGrenade")
		PIST F 0 A_JumpIfInventory("Reloading",1,"Reload")
		PIST F 0 A_JumpIfInventory("TossGrenade",1,"TossGrenade")
		PIS2 F 2
		TNT1 A 0 A_Semirefire("Fire","SemiAutoLul")
		Goto Ready
	Fire2Silenced:
		TNT1 A 0
		PIST F 0 A_StartSound("PISTSLNT",1)
		PIST F 0 A_ZoomFactor(0.98)
		"----" A 0 { If(GetCVAR("BD_MagGoClicky")==1) { if(CountInv("BDPistolAmmo")<=6) { A_StartSound("MagClick", 7); }}}		
		2ILE A 0 A_JumpIFInventory("BurstANDsilencer", 1, 2)
		SILE A 0
		"####" A 1 BRIGHT A_FireBullets (0.6, 0.6, -1, 20, "pistolpuff", FBF_NORANDOM,8192,"decorativetracer",-4)
		"####" A 0 A_QuadSound
		"####" A 0 A_WeaponOffset(random(-1,1),32+random(0,1) )
		"####" F 0 A_ZoomFactor(1.0)
		"####" F 0 A_TakeAmmo("BDPistolAmmo",1)
		"####" F 0 A_TakeAmmo("BDDualPistolAmmo",1)
		"####" B 1
		"####" F 0 A_CheckIfAmmo("BDPistolAmmo",1,"NoAmmo")
		"####" B 0
		"####" C 1		
		"####" F 0 A_FireProjectile("PistolCaseSpawn",5,0,0,-9)
		"####" F 0 A_StartSound("PISTSLNT",1)
		"####" F 0 A_ZoomFactor(0.98)
		"----" A 0 { If(GetCVAR("BD_MagGoClicky")==1) { if(CountInv("BDPistolAmmo")<=6) { A_StartSound("MagClick", 7); }}}
		"####" A 1 BRIGHT A_FireBullets (0.6, 0.6, -1, 20, "pistolpuff", FBF_NORANDOM,8192,"decorativetracer",-4)
		//"####" A 0 A_SetPitch(pitch-1, SPF_INTERPOLATE)
		"####" A 0 A_WeaponOffset(random(-1,1),32+random(0,1) )	
		"####" F 0 A_ZoomFactor(1.0)
	   // "####" A 0 A_FireProjectile("DecorativeTracer", random(-1,1), 0, 0, 0)
		"####" F 0 A_TakeAmmo("BDPistolAmmo",1)
		"####" F 0 A_TakeAmmo("BDDualPistolAmmo",1)
		"####" B 1
		"####" F 0 A_CheckIfAmmo("BDPistolAmmo",1,"NoAmmo")
		"####" B 0
		"####" C 1
		"####" A 0 A_WeaponOffset(random(-1,1),32+random(0,1) )
		//"####" A 0 A_SetPitch(pitch-1, SPF_INTERPOLATE)
		"####" A 0 A_SetAngle(angle-frandom(-0.8,0.8), SPF_INTERPOLATE)
		"####" F 0 A_FireProjectile("PistolCaseSpawn",5,0,0,-9)
		"####" F 0 A_StartSound("PISTSLNT",1)
		"####" F 0 A_ZoomFactor(0.98)
		"----" A 0 { If(GetCVAR("BD_MagGoClicky")==1) { if(CountInv("BDPistolAmmo")<=6) { A_StartSound("MagClick", 7); }}}
		"####" A 1 BRIGHT A_FireBullets (0.6, 0.6, -1, 20, "pistolpuff", FBF_NORANDOM,8192,"decorativetracer",-4)
		//"####" A 0 A_SetPitch(pitch-1, SPF_INTERPOLATE)
		"####" A 0 A_WeaponOffset(random(-1,1),32+random(0,1) )		
		"####" F 0 A_ZoomFactor(1.0)
		//"####" A 0 A_FireProjectile("DecorativeTracer", random(-1,1), 0, 0, 0)
		"####" F 0 A_TakeAmmo("BDPistolAmmo",1)
		"####" F 0 A_TakeAmmo("BDDualPistolAmmo",1)
		//"####" A 0 A_SetPitch(pitch-1, SPF_INTERPOLATE)
		"####" A 0 A_SetAngle(angle-frandom(-0.8,0.8), SPF_INTERPOLATE)
		"####" F 0 A_CheckIfAmmo("BDPistolAmmo",1,"NoAmmo")
		"####" B 0
		"####" B 1
		"####" F 0 A_FireProjectile("PistolCaseSpawn",5,0,0,-9)
		"####" C 1 
		"####" DE 1
		"####" A 0 A_WeaponOffset(0,32)
		"####" F 0 A_JumpIfInventory("Reloading",1,"Reload")
		"####" F 0 A_JumpIfInventory("TossGrenade",1,"TossGrenade")
		"####" F 0 A_JumpIfInventory("Reloading",1,"Reload")
		"####" F 0 A_JumpIfInventory("TossGrenade",1,"TossGrenade")
		"####" F 2 A_WeaponReady(WRF_NOBOB | WRF_ALLOWRELOAD)
		Goto Ready	*/
	}
}